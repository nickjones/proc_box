{"name":"Proc box","tagline":"Containerize a sub-process for monitoring and remote control via AMQP","body":"# Batch User Workload Monitoring\r\nproc_box is an open source, way of containerizing a process into a resource\r\nmonitored box suitable for batch systems.  The primary goal is to limit resource\r\nexplosion and causing other users of the batch system to receive unexpected\r\nresource pressure.  This project also provides remote control of the process\r\nthrough AMQP JSON messages.  Resource usage measurements of the contained\r\nprocess are emitted for analysis or control by other tools.\r\n\r\n## Features\r\n- Connects to an AMQP broker\r\n- Starts the contained process\r\n- Gracefully exits with either a simple remote control JSON or the process\r\nnaturally existing.\r\n- Basic suspend/resume/quit/kill remote control support.\r\n- Controllable wall-clock timer to end runaway processes\r\n(also controlled over AMQP).\r\n- Captures SIGINT/etc. at proc_box level and issues appropriate signals to child\r\nprocess.\r\n- Periodic statistical samples of process usage (aggregated parent and children)\r\nemitted on AMQP.\r\n- Arguments directly on the command line or provided through environment variables.\r\nCommand line overrides environment variables.\r\n\r\n## Requirements\r\nGo; that's about it.  We suggest the rabbitmq:3-management Docker container for\r\ndevelopment purposes.\r\n\r\n## Documentation\r\nUse [Godoc documentation](https://godoc.org/github.com/nickjones/proc_box/agents) under\r\nthe agents package for reference.\r\n\r\n## Running\r\nGenerally, only specifying both the AMQP broker and the command to be contained\r\nis necessary.\r\n```\r\n./proc_box -uri <amqp_uri> <cmd> <args>\r\n```\r\n\r\n### Remote Commands\r\nRemote commands can be issued through the AMQP broker to the topic exchange specified\r\n(or default proc_box.remote_control).  Messages should be in JSON of the form:\r\n```\r\n{\r\n    \"command\": \"<cmd>\",\r\n    \"arguments\": [\"<arg1>\", \"<arg2>\", ...],\r\n}\r\n```\r\nSupported commands:\r\n* **stop**: Issue SIGQUIT to the process.\r\n* **resume**: Resume suspended process execution (and timeout timer).\r\n* **suspend**: Suspend the process execution.\r\n* **kill**: Issue SIGKILL to the process.  Optional single argument is the signal to send (9 is default).\r\n* **sample**: Force a process statistics sample.\r\n* **change_sample_rate**: Change duration between process statistic samples.\r\n* **timer_reset**: Disables timer and sets ElapsedTime to zero.\r\n* **timer_start**: Enables timer ticking from an ElapsedTime of zero.\r\n* **timer_stop**: Disables timer\r\n* **timer_resume**: Continues ticking time without resetting.\r\n\r\n## License\r\nproc_box is licensed under the MIT License.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}